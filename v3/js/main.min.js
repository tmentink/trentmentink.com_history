function initLoadingScreen(e){if(e=e||2500,$cache("#loader-wrapper").is(":visible")){disableScrolling(!0);var i=!1,n=1e3,t=500,c=t;$cache(window).load(function(){$cache("document").imagesLoaded().always(function(){i=!0})});var l=setInterval(function(){if(i){var e=$cache("#intro"),o=e.offset().top;mainMenu=$cache("#main-menu"),scrollPos=o,mainMenu.is(":visible")&&(scrollPos=mainMenu.offset().top+mainMenu.height()-$(window).height()),$cache("body").addClass("loaded"),$cache(window).scrollTop()<o&&(c+=n,setTimeout(function(){$cache("html,body").velocity("scroll",{duration:n,offset:scrollPos})},t)),setTimeout(function(){clearInterval(l),disableScrolling(!1),$cache("#loader-img").removeClass("loading")},c)}else $cache("document").imagesLoaded().always(function(){i=!0})},e)}}function initMobileMainMenu(){$cache("#mobile-main-menu-btn").click(function(){mobileMenu_IsActive||toggleMobileMainMenu($cache("#mobile-main-menu-btn").hasClass("open")?"close":"open")}),$cache("#mobile-main-menu a").click(function(){toggleMobileMainMenu("close")})}function toggleMobileMainMenu(e,i){function n(){t=window.innerHeight?window.innerHeight:$cache(window).height()}i=i||500;var t=window.innerHeight?window.innerHeight:$cache(window).height(),c=$cache("#mobile-main-menu .mobile-menu-link");if($cache(window).on("resize",debounce(function(){n()},500)),"open"===e){mobileMenu_IsActive=!0,disableScrolling(!0),$cache(".vh-100").height(t+1),$cache("#mobile-main-menu-btn").addClass("open"),$cache("#mobile-main-menu").css({display:"block"});var l=$cache("#mobile-main-menu .mobile-menu-items").height();l>=t?$cache("#mobile-main-menu .mobile-menu-items").removeClass("absolute-vcenter"):$cache("#mobile-main-menu .mobile-menu-items").addClass("absolute-vcenter"),c.each(function(e){$.Velocity.hook($(this),"translateY",-t+"px"),$(this).velocity({translateY:0},{duration:i+250*(c.length-e),easing:[225,23],complete:function(){mobileMenu_IsActive=!1}})})}else"close"===e&&(mobileMenu_IsActive=!0,disableScrolling(!1),$cache("#mobile-main-menu-btn").removeClass("open"),$cache("#mobile-main-menu").velocity({translateY:-t},{duration:i,easing:"swing",complete:function(){$cache("#mobile-main-menu").css({display:"none"}),$.Velocity.hook($("#mobile-main-menu"),"translateY","0px"),mobileMenu_IsActive=!1}}))}function initDesktopMenu(){desktop_only.matches&&(stickyMenu_IsActive=!0,$cache(window).on("resize.stickyMenu",setDesktopMenuTop).on("scroll.stickyMenu",stickyMenu),$cache(window).load(function(){desktopMenuTop=$cache("#main-menu-container").offset().top}))}function setDesktopMenuTop(){$cache("#main-menu").is(":visible")&&(desktopMenuTop=$cache("#main-menu-container").offset().top)}function stickyMenu(){var e,i=document.documentElement;e=(window.pageYOffset||i.scrollTop)-(i.clientTop||0),e>desktopMenuTop?$cache("#main-menu").removeClass("relative").addClass("fixed"):desktopMenuTop>e&&$cache("#main-menu").removeClass("fixed").addClass("relative")}function initFilterMenu(){initGalleryFiltering(),$cache("#filter-menu").click(function(){mobile_only.matches&&toggleFilterMenu("open")}),$cache("#mobile-filter-menu-btn").click(function(){toggleFilterMenu("close")}),$cache("#mobile-filter-menu a").click(function(){toggleFilterMenu("close")})}function toggleFilterMenu(e,i){function n(){return $cache(window).width()}i=i||500;var t=$cache(window).width(),c=$cache("#mobile-filter-menu .mobile-menu-link");if($cache(window).on("resize",debounce(function(){t=n()},500)),"open"===e){disableScrolling(!0);var l=window.innerHeight?window.innerHeight:$cache(window).height();$cache(".vh-100").height(l+1),$.Velocity.hook($cache("#mobile-filter-menu"),"translateX",t+"px"),$cache("#mobile-filter-menu").css({display:"block"}).velocity({translateX:0},{duration:i}),c.each(function(e){$.Velocity.hook($(this),"translateX",t+"px"),$(this).velocity({translateX:0},{duration:i+200*(c.length+e),easing:[225,23]})})}else"close"===e&&(disableScrolling(!1),$cache("#mobile-filter-menu").velocity({translateX:t},{duration:i,easing:"swing",complete:function(){$cache("#mobile-filter-menu").css({display:"none"})}}))}function initGalleryFiltering(){toggleGalleryItem(),initMagnificPopup("."+gallery_visibileClass),$cache(".js-filter").click(function(){filterGalleryItem(this),toggleGalleryIcon(this),resetGalleryItem()})}function filterGalleryItem(e){if("all"==e.id)$cache(".gallery-card").velocity("fadeIn",{duration:450}).addClass(gallery_visibileClass);else{var i=$("."+e.id).velocity("fadeIn",{duration:450});$cache(".gallery-card").not(i).hide().removeClass(gallery_visibileClass),i.addClass(gallery_visibileClass)}initMagnificPopup("."+gallery_visibileClass)}function toggleGalleryIcon(e){var i="fa-square-o",n="fa-check-square-o",t=$("."+n),c=$(e).find("span");t.removeClass(n).addClass(i),c.removeClass(i).addClass(n)}function toggleGalleryItem(){$cache(".gallery-card").click(function(){if(!flip_IsActive){var e=$(this);resetGalleryItem(),e.children("img").hasClass("img"+gallery_activeClass)||flipGalleryItem(e)}})}function resetGalleryItem(e){e=e||300,$(".img"+gallery_activeClass).velocity({scale:[1,0],opacity:1},{duration:e,begin:function(){flip_IsActive=!0},complete:function(){$(".img"+gallery_activeClass).removeClass("img"+gallery_activeClass),flip_IsActive=!1}}),$(".div"+gallery_activeClass).velocity({scale:[0,1],opacity:0},{duration:e,begin:function(){flip_IsActive=!0},complete:function(){$(".div"+gallery_activeClass).removeClass("div"+gallery_activeClass),flip_IsActive=!1}})}function flipGalleryItem(e,i){i=i||300,e.children("img").velocity({scale:[0,1],opacity:0},{duration:i,begin:function(){flip_IsActive=!0},complete:function(){e.children("img").addClass("img"+gallery_activeClass),flip_IsActive=!1}}),e.children("div").velocity({scale:[1,0],opacity:1},{duration:i,begin:function(){flip_IsActive=!0},complete:function(){e.children("div").addClass("div"+gallery_activeClass),flip_IsActive=!1}})}function selectorCache(){var e={},i=function(i,n,t){"boolean"==typeof n&&(t=n,n=!1);var c=n?n.selector+" "+i:i;return(void 0===e[c]||t)&&(e[c]=n?n.find(i):jQuery(i)),e[c]};return i.elementCache=e,i}function disableScrolling(e){e?($cache("html").css({overflow:"hidden",height:"100%"}),$cache("body").bind("touchmove",function(e){e.preventDefault()})):($cache("html").css({overflow:"auto",height:"auto"}),$cache("body").unbind("touchmove"))}function initMagnificPopup(e){$(e).magnificPopup({delegate:"a",gallery:{enabled:!0},type:"image",callbacks:{open:function(){disableScrolling(!0)},close:function(){disableScrolling(!1)}}})}function debounce(e,i){var n=null;return function(){var t=this,c=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(t,c)},i)}}function throttle(e,i,n){i||(i=250);var t,c;return function(){var l=n||this,o=+new Date,a=arguments;c&&c+i>o?(clearTimeout(t),t=setTimeout(function(){c=o,e.apply(l,a)},i)):(c=o,e.apply(l,a))}}var $cache=new selectorCache,mobile_only=window.matchMedia("(max-width: 1024px)"),desktop_only=window.matchMedia("(min-width: 1025px)"),mobileMenu_IsActive=!1,stickyMenu_IsActive=!1,desktopMenuTop=$cache("#main-menu-container").offset().top,flip_IsActive=!1,gallery_visibileClass="visible-gallery-card",gallery_activeClass="-is-flipped";$cache("document").ready(function(){initLoadingScreen(),initMobileMainMenu(),initDesktopMenu(),initFilterMenu()}),$cache(window).on("resize",throttle(function(){desktop_only.matches&&(toggleMobileMainMenu("close",1),toggleFilterMenu("close",1)),desktop_only.matches&&!stickyMenu_IsActive?(stickyMenu_IsActive=!0,$cache(window).on("resize.stickyMenu",setDesktopMenuTop).on("scroll.stickyMenu",stickyMenu)):mobile_only.matches&&stickyMenu_IsActive&&(stickyMenu_IsActive=!1,$cache(window).off(".stickyMenu"))},250)),$cache(window).on("orientationchange",function(){setTimeout(function(){var e=window.innerHeight?window.innerHeight:$cache(window).height();$cache(".vh-100").height(e+1)},250)}),function(e){var i,n=e.fn.on;e.fn.on=function(){var e=Array.apply(null,arguments),t=e[e.length-1];if(isNaN(t)||1===t&&e.pop())return n.apply(this,e);var c=e.pop(),l=e.pop();return e.push(function(){var e=this,n=arguments;clearTimeout(i),i=setTimeout(function(){l.apply(e,n)},c)}),n.apply(this,e)}}(this.jQuery||this.Zepto),$(function(){$cache('a[href*="#"]:not([href="#"])').click(function(){var e=0,i=15,n=750;if($cache("#main-menu").is(":visible")&&(e=$("#main-menu").height()),$(this).hasClass("js-scroll_no-animation")&&(n=0),$(this).hasClass("js-scroll_no-padding")&&(i=0),location.pathname.replace(/^\//,") == this.pathname.replace(/^//, ")||location.hostname==this.hostname){var t=$cache(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return t.velocity("scroll",{duration:n,offset:-(e+i)}),!1}})});